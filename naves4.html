<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>American Air</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="logo.webp" type="image/x-icon">
</head>
<body>
    <audio id="musica" loop autoplay>
        <source src="musica.mp3" type="audio/mpeg">
    </audio>
    <audio id="musica2" loop>
        <source src="musica2.mp3" type="audio/mpeg">
    </audio>
    <audio id="musica3" loop>
        <source src="musica3.mp3" type="audio/mpeg">
    </audio>
    <audio id="miAudio">
        <source src="explosion.mp3" type="audio/mp3">
    </audio>
    <div class="div-flotante">
        <h2 id="te">Soldado acaba con los enemigos</h2>
        <h2 id="puntos">Puntucacion: 0 puntos</h2>
        <label for="">Ultimate: </label>
        <div class="circle">
            <div class="fill" id="fill"></div>
        </div>       
    </div>
    <img src="caza.png" class="nave" id="caza">
    <div class="bottom-div">
        <button id="buttonL" class="button"><img src="izquierda.svg" style="width: 4vh;"></button>
        <button id="buttonR" class="button"><img src="derecha.svg" style="width: 4vh;"></button>
        <button id="buttonD" class="button secondary"><img src="muerte.png" style="width: 4.6vh;"></button>
        <button id="buttonSpace" class="button secondary" style="background-color: white;"><img src="ulti.svg" style="width: 4.6vh;"></button>
    </div>
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
var level = 4;
let puntosU = 0;

let puntosT = 0;

window.onpageshow = function(event) {
    if (event.persisted) {
        window.location.reload();
    }
};

// Function to update points and display them
function puntos(puntos) {
    puntosT = puntosT + puntos;
    document.getElementById('puntos').innerHTML = "Puntuación: " + puntosT + " puntos";
    
    if (puntosT==3000) {
        var musica = document.getElementById('musica');
        musica.pause();
        musica.currentTime = 0; // Reiniciar la música al principio
        musica.remove(); // Eliminar completamente el elemento de música del DOM

        var musica2 = document.getElementById('musica2');
        musica2.play();
        crearEnemigoUnico();
    }
    else if (puntosT == 5000) {
        var musica2 = document.getElementById('musica2');
        musica2.pause();
        musica2.currentTime = 0; // Reiniciar la música al principio
        musica2.remove(); // Eliminar completamente el elemento de música del DOM
        crearEnemigoUnico2();

        var musica3 = document.getElementById('musica3');
        musica3.play();
    }
}

function ejecutarCada5Segundos() {
    // Aquí va tu condición original
    if (puntosT > 3000) {
        for (let index = 0; index < 1; index++) {
            crearEnemigoUnico();
        }
    }
    // if (puntosT >= 5000) {
    //     for (let index = 0; index < 1; index++) {
    //         crearNuevaNaveEnemiga();
    //     }
    // }
}

// Ejecutar la función inicialmente y luego cada 5 segundos
ejecutarCada5Segundos(); // Ejecutar primero sin esperar los 5 segundos

setInterval(ejecutarCada5Segundos, 5000); 
</script>
<script src="nave.js"></script>